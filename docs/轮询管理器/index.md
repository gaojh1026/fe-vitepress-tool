# 轮询管理器

## 📖 概述

这里提供三个版本的轮询 hook，分别为 vue3、vue2、react 版本

## 📖 为什么要封装这几个 hook 呢

### 🎯 封装目的

在前后端分离的开发中，我们经常遇到需要轮询接口获取状态的场景，比如：

- 文件上传进度查询
- 订单状态跟踪
- 异步任务执行状态监控
- 实时数据更新

传统的轮询实现往往存在以下问题：

- 代码重复，每个项目都要重新写一遍
- 状态管理混乱，难以维护
- 缺乏统一的错误处理和生命周期管理
- 内存泄漏风险，组件卸载后轮询仍在运行

### 🚀 设计理念

我们的轮询管理器遵循以下设计原则：

1. **统一接口**: 三个框架版本保持一致的 API 设计，降低学习成本
2. **状态管理**: 提供完整的轮询状态响应式数据，包括运行状态、暂停状态、轮询次数等
3. **生命周期管理**: 自动处理组件卸载时的资源清理，防止内存泄漏
4. **灵活配置**: 支持自定义轮询条件、间隔时间、最大次数等配置
5. **错误边界**: 完善的错误处理机制，确保轮询异常不会影响应用稳定性

### ✨ 核心特性

- **智能轮询**: 支持条件判断，满足条件时自动停止轮询
- **状态控制**: 提供开始、停止、暂停、恢复、重置等完整控制方法
- **回调系统**: 丰富的回调函数支持，包括成功、错误、完成、状态变化等
- **自动清理**: 组件卸载时自动销毁轮询管理器
- **类型安全**: 完整的 TypeScript 类型定义支持
- **性能优化**: 内部使用 100ms 定时器同步状态，确保响应式数据及时更新

### 🔧 技术实现

- **Vue3**: 基于 Composition API 和 `ref`、`computed` 等响应式特性
- **Vue2**: 基于 Options API 和 `Vue.observable` 实现响应式
- **React**: 基于 Hooks 和 `useState`、`useEffect` 等原生 Hook

### 📚 使用场景

适用于以下业务场景：

- 文件上传/下载进度监控
- 订单状态实时跟踪
- 异步任务执行状态查询
- 实时数据同步更新
- 支付状态轮询确认
- 系统健康状态监控

通过这个轮询管理器，开发者可以快速实现稳定可靠的轮询功能，专注于业务逻辑而不用关心底层的轮询实现细节。
